<ion-header>
  <ion-navbar>
    <button ion-button menuToggle icon-only>
      <ion-icon name='menu'></ion-icon>
    </button>
    <ion-title>Presentation</ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="bg-full-image" padding no-bounce>
  <div class="match-card-success" [ngClass]="{'fade': matchSuccessFade, 'transform': matchSuccessTransform}" [hidden]="!matchSuccess">
    <ion-icon name="checkmark-circle" class="content" [ngClass]="{'fade': matchSuccessContentFade}"></ion-icon>
  </div>
  <div class="loader-wrapper" *ngIf="pageLoading">
    <ion-spinner name="bubbles"></ion-spinner>
  </div>
  <div class="phase-wrapper" *ngIf="!pageLoading">
    <div class="match-card-container" *ngIf="matchList != undefined && (matchList != undefined && matchList.length > 0)">
      <div class="match-list">
    
        <!-- Match Card -->
        <div class="match-card"
        [ngClass]="{'fade-left': fadeLeft, 'fade-right': fadeRight, 'fade-left-instant': fadeLeftInstant, 'fade-right-instant': fadeRightInstant}"
        [hidden]="hideCard"
        (swipe)="swipe($event)" id="swipe-card">
          <!-- Card Header -->
          <div class="match-card-header">
            <h3 class="title fg-primary text-center">{{ match.job.company.companyName }}</h3>
            <p class="fg-grey text-center">{{ (match.matchedIndustry) ? match.matchedIndustry : match.job.company.industries[0] }}</p>
          </div>
          <!-- End Card Header -->
    
          <!-- Company Presentation Card Content -->
          <div class="match-card-content" [ngClass]="{'slide-left': stage > 0}">
            <div class="content-section presentation-explanation">
              <h3 class="heading heading-spacer fg-dark"><ion-icon name="md-easel" class="card-heading-icon"></ion-icon>Company Presentation<ion-icon name="md-information-circle" class="info-icon to-right opacity-75 icon-link fg-dark" (click)="companyPresentationInfo()"></ion-icon></h3>
            </div>
            <div class="content-section">
              <div *ngFor="let link of match.job.presentationLinks" class="presentation-link">
                <h3 class="heading fg-dark">{{ link.title }}:</h3>
                <p class="fg-dark fake-link" (click)="openLink(link.link)">{{ link.link }}<ion-icon name="md-open" class="presentation-link-icon"></ion-icon></p>
              </div>
            </div>
          </div>
          <!-- End Company Presentation Card Content -->
    
          <!-- Your Presentation Card Content -->
          <div class="match-card-content" [ngClass]="{'slide-right': stage < 1}">
            <div class="content-section">
              <h3 class="heading heading-spacer fg-dark"><ion-icon name="md-easel" class="card-heading-icon"></ion-icon>Add Presentation Links<ion-icon name="md-information-circle" class="info-icon to-right opacity-75 icon-link fg-dark" (click)="yourPresentationInfo()"></ion-icon></h3>
            </div>
            <div class="content-section">
              <ion-list class="rec-reorder-list">
                <div class="list-header-wrapper">
                  <ion-list-header>PRESENTATION LINKS</ion-list-header>
                  <button class="rec-btn-circle-small rec-btn-primary" (click)="addLink()"><ion-icon name="md-add" class="rec-btn-icon"></ion-icon></button>
                </div>
                <ion-item-group reorder="true" side="start" (ionItemReorder)="$event.applyTo(linksList)">
                  <ion-item *ngFor="let item of linksList; let i = index">
                    <h5>{{ item.title }}</h5>
                    <p>{{ item.link }}</p>
                    <ion-icon name="md-close-circle" class="fake-link" (click)="removeLink(i)"></ion-icon>
                  </ion-item>
                </ion-item-group>
              </ion-list>
            </div>
          </div>
          <!-- End Your Presentation Card Content -->
    
          <!-- Card Footer -->
          <div class="match-card-footer">
            <button class="rec-btn-small float-left" [ngClass]="{'rec-btn-deny': stage == 0}" (click)="backDecline()" [disabled]="disableDecline">
              <ion-icon name="ios-arrow-back" class="card-heading-icon" [hidden]="stage == 0"></ion-icon>
              <ion-icon name="md-thumbs-down" class="card-heading-icon" [hidden]="stage > 0"></ion-icon>
              {{ (stage == 0) ? "Decline" : "Back"}}
            </button>
            <button class="rec-btn-small float-right" [ngClass]="{'rec-btn-accept': stage == maxStage}" (click)="interested()">
              {{ (stage == maxStage) ? "Submit" : "More"}}
              <ion-icon name="ios-arrow-forward" class="card-heading-icon-right" [hidden]="stage == maxStage"></ion-icon>
              <ion-icon name="md-thumbs-up" class="card-heading-icon-right" [hidden]="stage < maxStage "></ion-icon>
            </button>
          </div>
          <!-- End Card Footer -->
        </div>
        <!-- End Match Card -->
    
      </div>
    </div>
    <div class="match-list-empty" *ngIf="matchList == undefined || matchList.length == 0">
      <ion-icon name="md-easel" class=""></ion-icon>
      <div class="sep-horizontal-1"></div>
      <h3 class="fg-white text-center">You don't have any jobs in the presentation phase. First apply to matched jobs in the first tab. If the recruiter likes what they see, that job will show up here!</h3>
      <div class="sep-horizontal-1"></div>
    </div>
  </div>
</ion-content>
